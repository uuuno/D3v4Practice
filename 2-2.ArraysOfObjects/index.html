<!DOCTYPE html>
<meta charset="utf-8">
<head>
	<title>D3v4入門 - 2-2.Data joins (Arrays of Objects)</title>
</head>

<style>
h2{
	margin: 0;
	margin-top: 20px;
}

svg{
  background-color: #eee;
	margin: 0;
}

</style>

<body>
	<h2>circle</h2>
	<svg class='circle_area' width="800" height="200">
		<g transform="translate(0, 100)">
			<circle></circle>
			<circle></circle>
			<circle></circle>
			<circle></circle>
			<circle></circle>
		</g>
		<g transform="translate(0, 100)">
			<text></text>
			<text></text>
			<text></text>
			<text></text>
			<text></text>
		</g>
	</svg>

	<h2>rect</h2>
	<svg class='rect_area' width="800" height="200">
		<g transform="translate(0, 70)">
			<rect></rect>
			<rect></rect>
			<rect></rect>
			<rect></rect>
			<rect></rect>
		</g>
		<g transform="translate(0, 70)">
			<text></text>
			<text></text>
			<text></text>
			<text></text>
			<text></text>
		</g>
	</svg>


</div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.10.2/d3.js"></script>
<script>

//
var fruits = [
  { name: 'orange', size: 15},
  { name: 'melon', size: 30},
  { name: 'strawberry', size: 20},
  { name: 'lemon', size: 10},
  { name: 'watermelon', size: 50}
];


// circle
d3.selectAll('circle')
	.data(fruits)
	.attr('cx', function(d, i){
		return (i+1)*120;
	})
	.attr('r', function(d, i){
		return d.size;
	})
	.style('fill', 'rgb(147, 235, 168)');

d3.select('.circle_area').selectAll('text')
	.data(fruits)
	.attr('x', function(d, i){
		return (i+1)*120;
	})
	.text(function(d, i){
		return d.name;
	});


// rect
d3.selectAll('rect')
	.data(fruits)
	.attr('cx', function(d, i){
			return (i+1)*120;
	})
	.attr('width', function(d, i){
			return d.size*2;
	})
	.attr('height', function(d, i){
			return d.size*2;
	})
	.attr('x', function(d, i){
			return (i+1)*120;
	})
	.style('fill','rgb(134, 236, 230)');

d3.select('.rect_area').selectAll('text')
	.data(fruits)
	.attr('x', function(d, i){
		return (i+1)*120+d.size;
	})
	.text(function(d, i){
		return d.name;
	})
	.attr('y', function(d, i){
		return d.size;
	});


</script>
</body>
</html>
