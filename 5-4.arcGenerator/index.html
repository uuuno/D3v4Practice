<!DOCTYPE html>
<meta charset="utf-8">
<head>
	<title>D3v4入門 - 5-3.Shapes (Stack generator)</title>
</head>

<style>

svg{
  background-color: #eee;
	margin: 0;
}

path {
	fill: orange;
}

</style>

<body>

	<h2>.arc</h2>
	<svg class="arc" width="500" height="300">
		<g transform="translate(250, 150)"> <!-- これが中心点になる -->
		</g>
	</svg>

	<h2>.arc（複数）</h2>
	<svg class="arc_multi" width="500" height="300">
		<g transform="translate(250, 150)"> <!-- これが中心点になる -->
		</g>
	</svg>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.10.2/d3.js"></script>
<script
  src="https://code.jquery.com/jquery-2.2.1.min.js"
  integrity="sha256-gvQgAFzTH6trSrAWoH1iPo9Xc96QxSZ3feW6kem+O00="
  crossorigin="anonymous"></script>
<script>

// .arc
var arcGenerator = d3.arc();

var arcPath = arcGenerator({
	startAngle: 0,
	endAngle: 0.25 * Math.PI,
	innerRadius: 50,
	outerRadius: 100
});

d3.select('.arc g')
	.append('path')
	.attr('d', arcPath);

// .arc（複数）
var arcData = [
	{startAngle: 0, endAngle: 0.2},
	{startAngle: 0.2, endAngle: 0.5},
	{startAngle: 0.5, endAngle: 1.3},
	{startAngle: 1.3, endAngle: 2.5},
	{startAngle: 2.5, endAngle: 2*Math.PI}
];

var arcGeneratorMulti = d3.arc()
	.innerRadius(30) //中心の穴の半径
	.outerRadius(100) //全体円の半径
	.padAngle(0.01) //隙間の大きさ
	.cornerRadius(5); //角丸

d3.select('.arc_multi g')
	.selectAll('path')
	.data(arcData)
	.enter()
	.append('path')
	.attr('d', arcGeneratorMulti);

</script>

</body>
</html>
